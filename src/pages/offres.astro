---
import Base from "../layouts/Base.astro"; // Layout principal
import Card from "../components/Card.astro"; // Composant Card pour chaque offre
import { allMaisons } from "../backend.mjs";

// Donn√©es statiques des offres
const offres = await allMaisons();
---


<Base titre="Offres">
    <h1 class="text-blue-700 font-extrabold text-6xl uppercase pl-5 mb-5">
        Offres
    </h1>

    <div x-data="{ showFavorites: false }" class="p-5">
        <button
            @click="showFavorites = !showFavorites"
            class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-300 transition"
        >
            <span x-show="!showFavorites">Afficher les favoris</span>
            <span x-show="showFavorites">Afficher tout</span>
        </button>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-5">
            <div x-show="!showFavorites">
                {offres.map((offre) => <Card {...offre} />)}
            </div>

            <div x-show="showFavorites">
                {offres.map((offre) => offre.favori && <Card {...offre} />)}
            </div>
        </div>
    </div>
</Base>
